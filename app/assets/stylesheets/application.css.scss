/*
 * This is a manifest file that'll automatically include all the stylesheets available in this directory
 * and any sub-directories. You're free to add application-wide styles to this file and they'll appear at
 * the top of the compiled file, but it's generally better to create a new file per style scope.
 *= require 960.css
 *= require style
 *= require_self
 *= require_tree . 
*/

/*
 * Elements are ordered by lowest specificity first,
 * then alphabetically (e.g., elements, classes, ids)
 * Alphabetical ordering makes order predictable.
 * Specificity based ordering keeps code concise, organized,
 * and lowers risk of having to use !important. 
 * Together, they eliminate arbitrary and confusing grouping schemes.
 * -DP
 */

@import "vars.css.scss";
@import "mixins.css.scss";

header, footer, nav, section, article { display: block; }

a {
  text-decoration: none;
  color: $blue;
  &:hover{ color: $pink; text-decoration:none; }
}

body {
  background: #e1e1d9 url(/assets/bg-test.jpg) no-repeat bottom center fixed;
  height: 100%;
  width: 100%;
  font-family: 'Akagi-Book', Helvetica, Ariel, sans-serif;
}

body > header {
  min-height:127px; // Avoid page jump if the logo is slow to load
  padding:10px !important; // Override 960.gs
  margin-bottom: 10px;
  background: white;
  @include border-radius(0 0 8px 8px);
  .join_login_wrap {font-size: 15px;}
  .member_panel{
    text-align:right;
    p { margin: 0; font-size: 14px; }
    img { margin-left: 10px; }
  }
  .logo {
    background-color: transparent;
  }
}

// Fix for odd extra pixel showing up when you're on the issue page
body.issues nav#primary .issue_menu { right:9px; }

body > #main {
  background: white;
  @include border-radius(8px);
  padding: 10px 10px;
  position: relative;
  margin-bottom: 10px;

  p {
    font-size: 15px;
    line-height: 140%;
  }
}

body > footer {
  margin-top: 25px;
  nav {
    a, a:visited {
      text-transform: uppercase;
      margin: 0px 15px;
      color: $dark_gray;
      &:hover{color: $pink;}
    }
  }
  .social {
    font-weight: bold;
    a {
      display: inline-block;
      float: right;
      margin: -5px 0 0 5px;
    }
  }
}

h1 {
  font-family: Folk-solid;
  text-transform: uppercase;
  color: $green;
  letter-spacing: 1.5px;
  font-size: 180%;
  position: relative;
  font-weight: normal;
  .outline{
    font-family: Folk-outline;
    color: #666;
    position: absolute;
    top: 0px;
    left: -2px;
  }
}

input[type="text"], textarea {
  border: 2px solid $light_gray;
  &:focus{
    border-color: $orange;
  }
}

label.error{ font-size: 90%; }

nav#primary {
  float:right;
  margin-top:60px;
  color: $dark_gray;
  font-weight: bold;
  li {
    float:left;
    position:relative;
    a.top_level {
      display:inline-block;
      padding: 0px 15px;
      margin: 0px 5px;
      line-height:2;
      color: $dark_gray;
      font-size: 16px;
      &:hover { color: $pink;}
    }
    a.top_level.last { margin-right: 0; }
    a.top_level.selected,a.top_level:hover { background: url(/assets/nav_hover_underline.png) no-repeat center bottom; color: $pink;}
  }
  li.issue_menu_wrap{
    &:hover {
      .issue_menu.wide, .issue_menu.small{
        visibility:visible;
      }
      >a {
        color:#fff;
        background-color:rgba(237, 126, 67, .9);
      }
    }
    position:relative;
    >a {
      @include border-radius(5px 5px 0 0);
      &:hover {
        background-image:none;
        color:#fff;
      }
    }
    .issue_menu{
      font-weight:normal;
      &.wide{
        width:410px;
      }
      &.small{
        width:240px;
        .thumbnails{
          padding-right:0;
        }
      }
      visibility:hidden;
      position:absolute;
      padding:15px 10px;
      right:8px; // See comment below about odd 1px bug for issues page
      z-index:100;
      background-color:rgba(237, 126, 67, .9);
      @include border-radius(5px 0 5px 5px);

      min-height:100px;
      .thumbnails {
        float:left;
        padding-right:10px;
        li.issue_pane {
          width:100px;
          padding:0 10px;
          a {
            font-size:13px;
            color:#fff;
            padding:none;
            img {
              width:100px;
              height:75px;
            }
          }
        }
      }
      .list {
        float:left;
        padding-left:15px;
        width:130px;
        min-height:100px;
        border-left:1px solid #fff;
        span{
          display:block;
          padding-bottom:5px;
          line-height:12px;
          font-size:12px;
          color:#fff;
        }
        ul {
          padding-left:10px;
          li.issue_pane {
            a {
              display:block;
              width:130px;
              font-size:12px;
              color:#fff;
            }
          }
        }
      }
    }
  }
}

textarea.error, input.error, select.error { border-color: $pink !important; }

.Akagi-Book { font-family: Akagi-Book; }
.Akagi-Light { font-family: Akagi-Light; }

.clear_left {clear:left;}
.clear_right {clear:right;}

.Folk-solid { font-family: Folk-solid; }

.left { float: left }
.right { float: right }

.small {font-size: 10.5px;}
.text_align {
  &.center {
    text-align: center;
  }
}

.btn, .btn.disabled, a.btn{
  // Almost all properties are !important because activeadmin's CSS is trying overriding this class
  background: #dc6837 !important;
  background: -moz-linear-gradient(top, lighten(#dc6837, 20%) 0%, #dc6837 100%) !important;
  background: -webkit-gradient(linear, 0 0, 0 100%, color-stop(0, lighten(#dc6837, 20%)), color-stop(1, #dc6837)) !important;
  @include border-radius(10px !important);
  border: none;
  @include box-shadow(inset 0px 0px 0px 1px rgba(255, 115, 100, 0.4), 0 1px 3px $light_gray !important);
  color: #fff !important;
  font-size: 18px;
  font-weight: bold !important;
  text-transform: uppercase !important;
  text-decoration: none !important;
  text-align: center !important;
  text-shadow: 0 0 1px black !important;
  padding: 10px !important;
  line-height: 100%;
  margin: 0;
  display: inline-block;
  &:hover {
    background: $pink !important;
    background: -moz-linear-gradient(top, lighten($pink, 20%) 0%, $pink 100%) !important;
    background: -webkit-gradient(linear, 0 0, 0 100%, color-stop(0, lighten($pink, 20%)), color-stop(1, $pink)) !important;
    cursor: pointer !important;
    text-decoration: none !important;
  }
  &:active{
    background: #b30300 !important;
    background: -moz-linear-gradient(top, lighten($pink, 15%) 0%, lighten($pink, 5%) 100%) !important;
    background: -webkit-gradient(linear, 0 0, 0 100%, color-stop(0, lighten($pink, 15%)), color-stop(1, lighten($pink, 5%))) !important;
    @include box-shadow(inset 0px 0px 1px 1px rgba(255, 115, 100, 0.4) !important);
  }
}

.btn.disabled, .btn.disabled:hover, .btn.disabled:active{
  background: $mid_gray !important;
  background: -moz-linear-gradient(top, lighten($mid_gray, 20%) 0%, $mid_gray 100%) !important;
  background: -webkit-gradient(linear, 0 0, 0 100%, color-stop(0, lighten($mid_gray, 20%)), color-stop(1, $mid_gray)) !important;
  @include box-shadow(inset 0px 0px 0px 1px $mid_gray, 0 1px 3px #333 !important);
}

.btn.small, a.btn.small {
  font-size: 15px;
  padding: 7px !important;
}

.issue_name {
  text-transform: uppercase;
  color: $blue;
  font-size: 14px;
  font-family: Akagi-Book;
  padding-top: 10px;
}

.speech_bubble_container {
  background: url(/assets/widget-container-green-arrow-bottom.gif) no-repeat bottom left;
  clear: right;
  float: right;
  min-height: 140px;
  position: relative;
  width: 301px;
  &.orange {
    background: url(/assets/widget-container-orange-arrow-bottom.gif) no-repeat bottom left;
    min-height: 80px;
    width: 299px;
    .speech_bubble_top {
      background: url(/assets/widget-container-orange-arrow-top.gif) no-repeat top left;
      height: 53px;
    }
    .speech_bubble h3 {
      color: #fff;
      font-family: Folk-solid;
    }
  }
  .speech_bubble_top {
    background: url(/assets/widget-container-green-arrow-top.gif) no-repeat top left;
    height: 60px;
    left: 0;
    position: absolute;
    top: 0;
    width: inherit;
  }
  .speech_bubble {
    float: left;
    margin: 15px 20px 15px 25px;
    padding-left: 10px;
    position:relative;
    width: auto;
    a {
      font-weight: bold;
      img { 
        width: 32px; 
        &:hover {
          opacity: 0.8;
        }
      }
    }
    h3 {
      color: #40a468;
      text-transform: uppercase; 
      font-size: 1.2em;
      margin-bottom: 5px;
    }
    p { margin: 5px 0; }
    p.date { color: $pink; }
  }
}

.sprite {
  background-image: url('/assets/sprite.png');
  float: left;
  position: relative;
}

.sprite.debate {
  background-position: -152px -140px;
  height: 47px;
  width: 58px;
}

.sprite.debate_pink {
  background-position: -152px -140px;
  height: 47px;
  width: 58px;
}

.sprite.facebook {
  background-position: -54px -10px;
  height: 20px;
  width: 58px;
}

.sprite.facebook_small {
  background-position: -54px -34px;
  height: 24px;
  width: 24px;
}

.sprite.logo {
  background-position: -191px -4px;
  height: 122px;
  width: 98px;
}

.sprite.orkut {
  background-position: -10px -10px;
  height: 31px;
  width: 31px;
}

.sprite.orkut_small {
  background-position: -88px -34px;
  height: 24px;
  width: 24px;
}

.sprite.personal_story_pink {
  background-position: -10px -136px;
  height: 55px;
  width: 68px;
}

.sprite.petition {
  background-position: -88px -135px;
  height: 51px;
  width: 59px;
}

.sprite.petition_pink {
  background-position: -106px -206px;
  height: 70px;
  width: 83px;
}

.sprite.twitter {
  background-position: -122px -10px;
  height: 20px;
  width: 55px;
}

.sprite.twitter_small {
  background-position: -122px -34px;
  height: 25px;
  width: 24px;
}

.sprite.video {
  background-position: -10px -135px;
  height: 56px;
  width: 68px;
}

.wobble_container {
  overflow: hidden;
  width: 302px;
  >div {
    background: url("/assets/widget-container-green-body.gif") repeat-y scroll left top transparent;
    float: left;
    min-height: 200px;
    padding-top: 15px;
    >.icon {
      float: right;
      margin: 10px;
    }
    >p {
      margin: 10px 5px 0;
    }
    a {
      font-weight: bold;
      margin: 15px;
    }
  }
  header {
    background: url("/assets/widget-container-green-top.gif") repeat-y scroll 0 0 transparent;
    float: left;
    width: 302px; // Redundancy to override overridden width inheritance from parent <section> 
    p {
      color: #FFFFFF;
      /* important used here to override high specificity global rule set somewhere else: 
       * body > #main p { font-size: 15px; }
       * TODO: change font sizes to use em instead of px 
       */
      font-size: 1.3em !important;
      font-weight: bold;
      line-height: 1.1em;
      margin: 10px 15px 0 5px;
      text-transform: uppercase;
    }
  }
  p {
    padding-left: 10px;
  }
  footer {
    background: url("/assets/widget-container-green-bottom.gif") repeat-y scroll left bottom transparent;
    float: left;
    min-height: 35px;
    width: 100%;
  }
}

#join_us_btn { padding-right: 20px }